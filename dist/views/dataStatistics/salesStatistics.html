<div ng-controller=salesCtrl class=sales-statistics><div class=export-div><button type=button class="btn btn-default" ng-click=exportExcel()>导出Excel</button></div><div class=content-div style="width: 100%"><div class="input-group col-md-3 input-div"><input type=text class=form-control ng-model=productName placeholder=请输入商品ID或名称 ng-keyup=productKeyup($event)> <button type=button class="btn btn-default" ng-click=onProductNameSearch() style="margin-left: 20px">查询</button></div><div class=select-search-div><div><div class=radio-div><label><input type=radio name=optionsRadios ng-click=setInterval() checked>&nbsp&nbsp 按统计区间</label> <label style="margin-left: 20px;"><input type=radio name=optionsRadios ng-click=setMonths()>&nbsp&nbsp按月</label> <label style="margin-left: 20px;"><input type=radio name=optionsRadios ng-click=setWeeks()>&nbsp&nbsp周</label></div><div ng-hide=intervalHide><select style="width: 150px; height: 25px" ng-model=selectInterval ng-options="item.interval for item in intervalList"></select></div><div><select ng-hide=yearHide ng-model=selectYear style="width: 80px;height: 25px;" ng-options="item.year for item in years" ng-change=onYearChange()></select><select ng-hide=monthHide style="width: 80px;margin-left: 30px;height:25px" ng-model=selectMonth ng-options="item for item in months"></select><select ng-hide=weekHide ng-model=selectWeek style=height:25px ng-options="item.selectOption for item in weekList"></select></div></div><button type=button class="btn btn-default" ng-click=onSearch() style="margin-left: 20px">查询</button></div></div><table ng-table=tableParams class="table table-condensed table-bordered table-hover ngtable account-table table-mini" show-filter=true style="margin-top: 50px;"><thead><th>商品ID</th><th>选择</th><th>商品名称</th><th><drop-down list={{levelOneCategoryFilter.list}} default-item={{levelOneCategoryFilter.defaultItem}} prevent-auto-selected=true desc-field=categoryName btn-style=btn-link ng-model=categoryName select=levelOneCategoryFilter.selectItem(item)></drop-down></th><th><sort-button title=销售单价 asc-sort-code=1 sort-callback=sortByPosition(item)></sort-button></th><th><sort-button title=销售数量 asc-sort-code=2 sort-callback=sortByPosition(item)></sort-button></th><th><sort-button title=销售总金额 asc-sort-code=3 sort-callback=sortByPosition(item)></sort-button></th><th><sort-button title=退货数 asc-sort-code=4 sort-callback=sortByPosition(item)></sort-button></th><th><sort-button title=库存积压指数 asc-sort-code=5 sort-callback=sortByPosition(item)></sort-button></th><th><sort-button title=铺货货架数 asc-sort-code=6 sort-callback=sortByPosition(item)></sort-button></th><th><sort-button title=复购率 asc-sort-code=7 sort-callback=sortByPosition(item)></sort-button></th><th><sort-button title=同品类复购率偏离值 asc-sort-code=8 sort-callback=sortByPosition(item)></sort-button></th><th><sort-button title=货架出货率均值 asc-sort-code=9 sort-callback=sortByPosition(item)></sort-button></th><th><sort-button title=同品类货架出货率偏离值 asc-sort-code=10 sort-callback=sortByPosition(item)></sort-button></th><th>加新品库</th><th>加滞销库</th></thead><tr ng-repeat="item in $data"><td align=center>{{item.skuCode}}</td><td><input type=checkbox id=checkbox_{{item.id}} class=chk_1 ng-click=updateSelection($event,item)> <label for=checkbox_{{item.id}}></label></td><td align=center>{{item.productName}}</td><td align=center>{{item.category.categoryName}}</td><td align=center>{{item.price/100}}</td><td align=center>{{item.salesCount}}</td><td align=center>{{item.salesFee/100}}</td><td align=center>{{item.returnCount}}</td><td align=center>{{utilService.getPointDouble(item.overStockRate)}}</td><td align=center>{{item.distribShelfCount}}</td><td align=center>{{utilService.getPointDouble(item.reBuyRate)}}</td><td align=center>{{utilService.getPointDouble(item.reBuyRateDeviate)}}</td><td align=center>{{utilService.getPointDouble(item.shipmentRate)}}</td><td align=center>{{utilService.getPointDouble(item.shipmentRateDeviate)}}</td><td align=center ng-click=recommendClick(item)><label style="width: auto;height: auto; font-size: 16px;">{{item.isNew==1?"-":"+"}}</label></td><td align=center ng-click=unsalableClick(item)><label style="width: auto;height: auto; font-size: 16px;">{{item.isUnsalable==1 ?"-":"+"}}</label></td></tr></table><h5>1 同品类复购率偏离值=单品复购率-单品所在品类复购率均值 单品所在品类复购率均值=同品类单品复购率加总/同品类单品数</h5><h5>2 同品类货架出货率偏离值=单品货架出货率-单品所在品类货架出货率 单品所在品类货架出货率=同品类单品货架出货率加总/同品类单品数</h5><h5>3 库存积压指数=库存数/最近5日出库量均值</h5><div id=exportExcelWrap class=hidden></div></div>
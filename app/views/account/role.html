<script type="text/ng-template" id="nodes_renderer.html">
  <div ui-tree-handle ng-click="editable(role) && editRole(this, role)">
    {{role.name}}
    <!-- 删除按钮 -->
    <a class="pull-right btn btn-danger btn-xs" ng-click="$event.stopPropagation(); removeRole(this, role)" style="margin-left: 8px;" ng-show="editable(role)">
      <span class="glyphicon glyphicon-remove"></span>
    </a>
    <!-- 添加按钮 -->
    <a class="pull-right btn btn-primary btn-xs" ng-click="$event.stopPropagation(); addRole(this, role)" style="margin-left: 8px;">
      <span class="glyphicon glyphicon-plus"></span>
    </a>
  </div>
  <ol ui-tree-nodes="" ng-model="role.children">
    <li ng-repeat="role in role.children" ui-tree-node ng-include="'nodes_renderer.html'">
    </li>
  </ol>
</script>

<div ui-tree data-drag-enabled="false" ng-if="role" id="tree-root">
  <ol ui-tree-nodes ng-model="role">
    <li ng-model="role" ui-tree-node ng-include="'nodes_renderer.html'"></li>
  </ol>
</div>
